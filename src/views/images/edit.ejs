<%- include('../layout', { body: `
<div class="max-w-4xl mx-auto px-4 py-8">
	<div class="bg-white p-6 rounded-lg shadow">
		<h1 class="text-2xl font-bold mb-6">Editar Imagen</h1>

		<div class="mb-6">
			<img
				src="${image.url}"
				alt="${image.title}"
				class="w-full max-h-96 object-contain mb-4" />
		</div>

		<form
			method="POST"
			action="/images/update"
			class="space-y-4">
			<input
				type="hidden"
				name="id"
				value="${image.id}" />
			<input
				type="hidden"
				name="originalUrl"
				value="${image.url}" />
			<div>
				<label class="block font-medium">TÃ­tulo:</label>
				<input
					name="title"
					maxlength="30"
					required
					value="${image.title}"
					class="w-full border p-2 rounded" />
			</div>
			<div>
				<label class="block font-medium">URL de la Imagen:</label>
				<input
					name="url"
					type="url"
					required
					value="${image.url}"
					class="w-full border p-2 rounded" />
			</div>
			<div>
				<label class="block font-medium">Fecha:</label>
				<input
					name="date"
					type="date"
					required
					value="${image.date}"
					class="w-full border p-2 rounded" />
			</div>
			<div class="flex justify-between pt-4">
				<a
					href="/images"
					class="bg-gray-200 px-4 py-2 rounded hover:bg-gray-300"
					>Cancelar</a
				>
				<button
					type="submit"
					class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
					Actualizar
				</button>
			</div>
		</form>
	</div>
</div>

<script>
	if (document.startViewTransition) {
		document
			.querySelector('a[href="/images"]')
			?.addEventListener('click', (e) => {
				e.preventDefault();
				document.startViewTransition(() => {
					window.location.href = e.target.href;
				});
			});
	}
</script>
` }) %>
